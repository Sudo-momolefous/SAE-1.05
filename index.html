<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>analyse trafic reseau</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body { font-family: arial; background:#f4f4f4 }
section { background:white; padding:15px; margin:20px; border-radius:8px }
</style>
</head>
<body>

<section>
<h2>ip source les plus frequentes</h2>
<canvas id="src"></canvas>
</section>

<section>
<h2>ip destination les plus frequentes</h2>
<canvas id="dst"></canvas>
</section>

<section>
<h2>menaces potentielles</h2>
<ul id="menaces"></ul>
</section>

<script>
const srcData = {"BP-Linux8": 2950, "www.aggloroanne.fr.https": 2130, "190-0-175-100.gba.solunet.com.ar": 1969, "mauves.univ-st-etienne.fr.https": 1687, "par10s38-in-f3.1e100.net.https": 827, "par21s23-in-f3.1e100.net.https": 251, "par21s04-in-f4.1e100.net.https": 223, "par21s17-in-f1.1e100.net.https": 180, "par21s23-in-f10.1e100.net.https": 99, "192.168.190.130": 66}
const dstData = {"BP-Linux8": 5774, "184.107.43.74.http": 2000, "www.aggloroanne.fr.https": 1022, "mauves.univ-st-etienne.fr.https": 751, "par10s38-in-f3.1e100.net.https": 255, "par21s23-in-f3.1e100.net.https": 200, "par21s17-in-f1.1e100.net.https": 176, "par21s23-in-f10.1e100.net.https": 85, "par21s04-in-f4.1e100.net.https": 79, "BP-Linux8.ssh": 66}
const menaces = {"BP-Linux8": 5774}

function draw(id, data) {
 new Chart(document.getElementById(id), {
  type:'bar',
  data:{
   labels:Object.keys(data),
   datasets:[{data:Object.values(data)}]
  }
 })
}

draw("src", srcData)
draw("dst", dstData)

let ul = document.getElementById("menaces")
if(Object.keys(menaces).length===0){
 ul.innerHTML="<li>aucune menace evidente</li>"
} else {
 for(let ip in menaces){
  let li=document.createElement("li")
  li.textContent = ip + " (" + menaces[ip] + " occurrences)"
  ul.appendChild(li)
 }
}
</script>

</body>
</html>